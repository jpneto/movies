<html>
<head>

<script>
  function showCityName() { 
    let url = "https://www.imdb.com/search/title/?title_type=feature&sort=num_votes,desc";
    
    let genre = document.forms["imdb"]["genre"].value;
    if (genre != null && genre != "") {
      url = url + "&genres=" + genre;
    }
    
    let min_rating = document.forms["imdb"]["min_rating"].value;
    if (min_rating != null && min_rating != "") {
      url = url + "&user_rating=" + min_rating + ",10.0";
    }   
    
    let min_votes = document.forms["imdb"]["min_votes"].value;
    if (min_votes != null && min_votes != "") {
      url = url + "&num_votes=" + min_votes + ",";
    }

    let start_date = document.forms["imdb"]["start_date"].value;
    let end_date   = document.forms["imdb"]["end_date"].value;
    if (start_date != null && start_date != "") {
      url = url + "&release_date=" + start_date + ",";   // start at start date
      if (end_date != null && end_date != "") {   
        url = url + end_date                     // define end date
      }
    } else {
      if (end_date != null && end_date != "") {  // upto end date
        url = url + "&release_date=," + end_date
      }
    }

    let countries = document.forms["imdb"]["countries"].value;
    if (countries != null && countries != "") {
      url = url + "&countries=" + countries + ",";
    }

    let language = document.forms["imdb"]["language"].value;
    if (language != null && language != "") {
      url = url + "&primary_language=" + language + ",";
    }
    
    let keywords = document.forms["imdb"]["keywords"].value;
    if (keywords != null && keywords != "") {
      url = url + "&keywords=" + keywords + ",";
    }
    
    if (document.forms["imdb"]["mymovies"].checked) {
      url = url + "&my_ratings=restrict";    
    } else {
      if (document.forms["imdb"]["notmymovies"].checked) {
        url = url + "&my_ratings=exclude";    
      }
    }
       
    // alert(url);

    window.open(url, "_blank");  // open new tab in browser
  }
</script>

<!-- onsubmit does not reload original page -->

<hr/>
<b>Quick movie search at IMDB</b>
</p>
<form name="imdb" onsubmit="return false">
genres: <input type="text" id="genres" name="genre" size="20" value="!documentary"></input> <font size="2">(e.g., horror,sci-fi,!animation,!documentary)</font> <br>
min rating: <input type="text" id="rating" name="min_rating" value="7.5" size="5"></input> <br>
min votes: <input type="text" id="min_votes" name="min_votes" value="1000" size="5"></input> <br>
date: from <input type="text" id="start_date" name="start_date" value="2021-01-01" size="10"></input> to <input type="text" id="end_date" name="end_date" value="2023-12-31" size="10"></input> <br>
<a href="https://help.imdb.com/article/contribution/other-submission-guides/country-codes/G99K4LFRMSC37DCN#" target="_blank">countries:</a> <input type="text" id="countries" name="countries" value="!pk,!bd,!in,!tr" size="15"></input> <a href="https://www.loc.gov/standards/iso639-2/php/code_list.php" target="_blank"> language:</a> <input type="text" id="language" name="language" value size="10"></input> <br>
keywords: <input type="text" id="keywords" name="keywords" value size="10"></input> <font size="2">(e.g., superhero,!marvel)</font> <br>
just my movies: <input type="checkbox" id="mymovies" name="mymovies"></input> <br>
not my movies: <input type="checkbox" id="notmymovies" name="notmymovies"></input> <br>
<input type="submit" value="Search ðŸŽ¥" onclick="showCityName()"></input> <font size="2">[<a href="https://www.imdb.com/search/title/" target="_blank">advanced search</a>]</font>
</form>
<hr/>

</body>
</html>
